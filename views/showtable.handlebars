<link rel="stylesheet" href="/public/showtable.css">

<div>
    <a href="/home">Home</a>
</div>

<div>
    <a href="/alltables?">tables</a>
</div>

<form action="/inserttableprod" method="post">
<div >

    <input type="hidden" name="tablesname" value="{{tablesname}}" >

    <span>produto</span>
    <input type="text" name="produto" placeholder="product name" >
    
    <span>valor</span>
    <input type="number" name="valor" placeholder="value" >
    
    <span>quantidade</span>
    <input type="number" name="quantidade" placeholder="quantidade" >

    <input type="submit">

</div>    


</form>


<div class="table">
    {{#if data}} 
    {{#each data}}
    <div class="org">
        
        <div id="btnss">
        
        <div class="btnshowtables">

            <form  action="/edittableprod/{{../tablesname}}/{{this.id}}" method="get" class="btnshowtables"> <!-- ../foi importante aqui para a renderização -->
                <input type="submit" value="edit" >
            </form>

            <form action="/delettableprod" method="post" class="btnshowtables">
                <input type="hidden" name="tablesname" value="{{../tablesname}}"> <!-- ../ (foi crucial aqui para funcionar poois nao estava funcionando de forma alguma) -->
                <input type="hidden" name="id" value="{{this.id}}">
                <input type="submit" value="delet" onclick="return confirm('Are you sure you want to delete this table?');">
            </form>
        </div>

         </div>

        <label for="produto" >
            <h4>Produto</h4>
             <div>{{this.produto}}</div>
        </label>
       
        

        <label for="valor" >
            <h4>Valor</h4>
             <div >{{this.valor}}</div>
        </label>

       
        
        <label for="quantidade" >
            <h4>Quantidade</h4>
            <div>{{this.quantidade}}</div>
        </label>

    

    </div>

    
    <hr style="border: 1px solid #050505;
    border-radius: 5px;
    margin: 10px 0">

    {{/each}}

    {{else}}
        <p>A tabela "{{tablesname}}" está vazia ou não tem dados para exibir.</p>
    {{/if}}

    

<!--
<h1>Conteúdo da Tabela: {{tablesname}}</h1>

{{#if data}}
    <table>
        <thead>
            <tr>
                {{#each data.[0]}}
                    <th>{{@key}}</th>
                {{/each}}
            </tr>
        </thead>
        <tbody>
            {{#each data}}
                <tr>
                    {{#each this}}
                        <td>{{this}}</td>
                    {{/each}}
                </tr>
            {{/each}}
        </tbody>
    </table>
{{else}}
    <p>A tabela "{{tablesname}}" está vazia ou não tem dados para exibir.</p>
{{/if}}
-->