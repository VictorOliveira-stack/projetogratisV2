<link rel="stylesheet" href="../public/showtable.css">

<div>
    <a href="/alltables?">tables</a>
</div>

<form action="/inserttablevendas" method="post">
<div >

    <input type="hidden" name="tablesname" value="{{tablesname}}" >

    <span>produto</span>
    <input type="text" name="produto" placeholder="product name" >
    
    <span>valor</span>
    <input type="number" name="valor" placeholder="value" >
    
    <span>quantidade</span>
    <input type="number" name="quantidade" placeholder="quantidade vendida" >

    <span>data</span>
    <input type="data" name="data_venda" placeholder="data da venda" required>

    <input type="submit">

</div>    


</form>


<div class="table">
    {{#if data}} 
    {{#each data}}
    <div class="org">
        
        <div id="btnss">
        
        <div class="btnshowtables">

            <form  action="/updatetablevendas/{{../tablesname}}/{{this.id}}" method="get" class="btnshowtables"> <!-- ../foi importante aqui para a renderização -->
                <input type="submit" value="edit" >
            </form>

            <form action="/delettablevendas" method="post" class="btnshowtables">
                <input type="hidden" name="tablesname" value="{{../tablesname}}"> <!-- ../ (foi crucial aqui para funcionar poois nao estava funcionando de forma alguma) -->
                <input type="hidden" name="id" value="{{this.id}}">
                <input type="submit" value="delet" onclick="return confirm('Are you sure you want to delete this table?');">
            </form>
        </div>

         </div>

        <label for="produto" >
            <h4>Produto</h4>
             <div>{{this.produto}}</div>
        </label>
       
        

        <label for="valor" >
            <h4>Valor</h4>
             <div >{{this.valor}}</div>
        </label>

       
        
        <label for="quantidade" >
            <h4>Quantidade</h4>
            <div>{{this.quantidade}}</div>
        </label>

        <label for="data da venda" >
            <h4>data da venda</h4>
            <div>{{this.data_venda}}</div>
        </label>

    

    </div>

    
    <hr style="border: 1px solid #050505;
    border-radius: 5px;
    margin: 10px 0">

    {{/each}}

    {{else}}
        <p>A tabela "{{tablesname}}" está vazia ou não tem dados para exibir.</p>
    {{/if}}

    
</div>
<div style="margin-left: 18em;">
    <span> <strong>valor Total:</strong>  {{valorTotal}}</span>
    <span style="margin-left:2em;"> <strong>quantidade Total:</strong>  {{quantidadeTotal}}</span>
</div>